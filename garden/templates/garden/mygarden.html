{% extends 'base.html' %}
{% load static %}

{% block title %}
{{user.get_display_name}}'s Garden
{% endblock %}
{% block content %}
<section
    class="md:w-3/4 max-w-3xl mx-auto h-full overflow-auto bg-base-100 text-primary-content rounded-xl bg-clip-border drop-shadow-secondary-content drop-shadow-md container p-4 md:p-6 flex flex-col mb-3"
    id="profile-details">
    <div class="column-12 text-center mb-2 md:mb-4 lg:mb-2" id="header-container">
        <h2 class="font-bold text-2xl">{{user.get_display_name}}'s Garden</h2>
    </div>

    <div class="flex flex-col mb-4" id="image-container">
        <div class="mx-auto"><img src="{{user.userprofile.user_profile_image_url}}" alt="{{user.get_display_name}}'s profile image"
                width="150px" height="150px" class="mx-auto mb-2"></div>
        <div class="mx-auto mb-2" id="profile-descriptors">
            <dl>
                <dt class="font-bold text-lg md:text-base">Display Name:</dt>
                <dd class="pb-3 text-lg md:text-base">{{user.get_display_name}}</dd>
                <dt class="font-bold text-lg md:text-base">User Bio:</dt>
                <dd class="pb-3 text-lg md:text-base">{{user.userprofile.bio}}</dd>
                {% if user.email %}
                <dt class="font-bold text-lg md:text-base">Email Address:</dt>
                <dd class="pb-3 text-lg md:text-base">{{user.email}}</dd>
                {% endif %}
                {%if user.first_name and user.last_name%}
                <dt class="font-bold text-lg md:text-base">Full Name:</dt>
                <dd class="pb-3 text-lg md:text-base">
                    {{user.first_name}}
                    {{user.last_name}}
                </dd>
                {% endif %}
                <dt class="font-bold text-lg md:text-base">Fablebud Count:</dt>
                <dd class="pb-3 text-lg md:text-base">{{user.userprofile.fablebuds_count}}</dd>
            </dl>
        </div>
    </div>
    <div class="buttons flex flex-1 justify-end mt-3 gap-2"> {% if user.is_authenticated %} <a href="{% url 'edit-profile' %}"
            class="btn hover:bg-secondary hover:text-secondary-content">Edit Profile</a> <a href="{% url 'edit-profile' %}"
            class="btn hover:bg-red-700 hover:text-primary-content">Delete Profile</a> {% endif %}</div>
</section>
<section id="user-flowers"
    class="md:w-3/4 max-w-3xl mx-auto h-full overflow-auto bg-base-100 text-primary-content rounded-xl bg-clip-border drop-shadow-secondary-content drop-shadow-md container p-4 md:p-6 flex flex-col md:flex-row gap-4">
    {% for flower in user_flowers %}
    <div class="column text-center mx-auto md:mx-2">
        {{flower.flower}} ({{flower.quantity}})
        <a href="{% url 'fableseed-view' flower.earned_from_seed.pk %}"><img src="{{flower.user_flower_image_url}}"
                alt="{{ flower.flower }}" width="100px" height="100px" class="hover:bg-accent">
        </a>
    </div>
    {% endfor %}
</section>
{% endblock content %}